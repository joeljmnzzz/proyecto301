<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-key="login.titulo">Login - Proyecto 301</title>
  <link rel="stylesheet" href="css/login.css">
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <script src="js/load-navbar.js" defer></script>
  <script src="js/i18n.js" defer></script>
  <script src="js/switcher-login.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="js/supabase-client.js" defer></script>
  <script src="js/auth.js" defer></script>
</head>
<body class="login-page">

  <!-- Navbar placeholder -->
  <div id="navbar-placeholder"></div>

  <!--  Contenedor de login -->
  <div class="login-container">
    <div class="ball"></div>

    <div class="login-box">
      <!-- FORMULARIO DE LOGIN -->
      <div class="form-container" id="login-form-container">
        <h1 data-key="login.titulo">Iniciar sesi贸n</h1>
        <form action="#" method="POST" id="login-form">
          <input type="email" name="email" placeholder="" data-key-placeholder="login.correo" required>
          <input type="password" name="password" placeholder="" data-key-placeholder="login.contrasena" required>
          
          <!-- CONTENEDOR DE MENSAJES -->
          <div class="message-container"></div>
          
          <button type="submit" data-key="login.boton">Entrar</button>
        </form>
        <p>
          <span data-key="login.noCuenta">驴No tienes cuenta?</span>
          <a href="javascript:void(0)" class="switch-form" data-form="register-basic" data-key="login.registrate">Reg铆strate</a>
        </p>
      </div>

      <!-- FORMULARIO DE REGISTRO BSICO (PASO 1) -->
      <div class="form-container" id="register-basic-container" style="display: none;">
        <h1 data-key="register.titulo">Crear cuenta</h1>
        <form action="#" method="POST" id="register-basic-form">
          <!-- Campos b谩sicos obligatorios -->
          <input type="text" name="full_name" placeholder="" data-key-placeholder="register.nombre" required>
          <input type="email" name="email" placeholder="" data-key-placeholder="register.correo" required>
          <input type="password" name="password" placeholder="" data-key-placeholder="register.contrasena" required>
          <input type="password" name="confirmPassword" placeholder="" data-key-placeholder="register.confirmarContrasena" required>

          <!-- CONTENEDOR DE MENSAJES -->
          <div class="message-container"></div>
          
          <button type="submit" data-key="register.boton">Continuar</button>
        </form>
        <p>
          <span data-key="register.siCuenta">驴Ya tienes cuenta?</span>
          <a href="javascript:void(0)" class="switch-form" data-form="login" data-key="register.iniciaSesion">Inicia sesi贸n</a>
        </p>
      </div>

      <!-- FORMULARIO DE REGISTRO COMPLETO (PASO 2) -->
      <div class="form-container" id="register-complete-container" style="display: none;">
        <h1>Completa tu perfil</h1>
        <form action="#" method="POST" id="register-complete-form">
          <!-- Informaci贸n del usuario ya registrado -->
          <div class="user-info">
            <p><strong>Usuario:</strong> <span id="registered-user-email"></span></p>
          </div>
          
          <!-- NUEVOS CAMPOS DEL PERFIL (opcionales) -->
          <div class="form-section">
            <h3>Informaci贸n adicional (Opcional)</h3>
            
            <input type="text" name="profession" placeholder="Profesi贸n" data-key-placeholder="register.profession">
            <input type="number" name="age" placeholder="Edad" min="16" max="100" data-key-placeholder="register.age">
            
            <select name="main_interest" data-key-placeholder="register.mainInterest">
              <option value="">Selecciona tu inter茅s principal</option>
              <option value="programacion">Programaci贸n</option>
              <option value="diseno">Dise帽o</option>
              <option value="marketing">Marketing</option>
              <option value="emprendimiento">Emprendimiento</option>
              <option value="investigacion">Investigaci贸n</option>
              <option value="educacion">Educaci贸n</option>
              <option value="otro">Otro</option>
            </select>
            
            <input type="text" name="location" placeholder="Ubicaci贸n (Ciudad, Pa铆s)" data-key-placeholder="register.location">
            
            <textarea name="bio" placeholder="Breve biograf铆a sobre ti..." data-key-placeholder="register.bio" rows="3"></textarea>
            
            <input type="text" name="skills" placeholder="Habilidades (separadas por comas)" data-key-placeholder="register.skills">
          </div>

          <!-- CONTENEDOR DE MENSAJES -->
          <div class="message-container"></div>
          
          <div class="form-actions">
            <button type="submit" class="btn-complete">Completar registro</button>
            <button type="button" class="btn-skip" id="skip-profile-btn">Omitir por ahora</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>